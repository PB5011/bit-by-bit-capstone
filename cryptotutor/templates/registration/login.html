{% extends "base_generic.html" %}

{% block customhead %}
<link rel="stylesheet" href="/static/styling/questionform.css">
<script src="/static/js/tinymce/tinymce.min.js"></script>
<script>tinymce.init({selector:'textarea'});</script>
{% endblock %}

{% block content %}
<!-- TODO: fix label not disappearing when typing -->

<div class="mdc-typography--headline6 header">
    <h1>Login</h1>
</div>
<div class="content">

    {% if form.errors %}
        <p>That username and password didn't work. Please try again.</p>
    {% endif %}

    {% if next %}
        {% if user.is_authenticated %}
        <p>This account doesn't have permission to view this page. 
            Please login with an account with sufficient access privileges.</p>
        {% else %}
        <p>You must login to see this page.</p>
        {% endif %}
    {% endif %}

    <form method="post" url="{% url 'login' %}">
        {% csrf_token %}
        <table>
            <tr>
                <td>{{ form.username.label_tag }}</td>
                <td>
                <label class="mdc-text-field mdc-text-field--outlined login">
                    <span class="mdc-text-field__input">{{ form.username }}</span>
                </label>
                </td>
            </tr>
            <tr>
                <td>Password</td>
                <td>
                <label class="mdc-text-field mdc-text-field--outlined login">
                    <span class="mdc-text-field__input">{{ form.password }}</span>
                </label>
                </td>
            </tr>
            
        </table>
        <br>
        <br>
        <input type="submit" class="mdc-button mdc-button--raised" value="login">
        <input type="hidden" name="next" value="{{ next }}" />
    <form>
    <br><br><p><a href="{% url 'password_reset' %}">Forgot your password?</a></p>
</div>


{% endblock %}